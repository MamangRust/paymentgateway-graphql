scalar DateTime

input FindByYearCardNumberTransactionRequest {
  card_number: String!
  year: Int!
}

input FindYearTransactionStatus {
  year: Int!
}

input FindMonthlyTransactionStatus {
  year: Int!
  month: Int!
}

input FindYearTransactionStatusCardNumber {
  card_number: String!
  year: Int!
}

input FindMonthlyTransactionStatusCardNumber {
  card_number: String!
  year: Int!
  month: Int!
}

input FindAllTransactionRequest {
  page: Int
  page_size: Int
  search: String
}

input FindAllTransactionCardNumberRequest {
  card_number: String!
  page: Int
  page_size: Int
  search: String
}

input FindByIdTransactionRequest {
  transaction_id: Int!
}

input FindTransactionByMerchantIdRequest {
  merchant_id: Int!
}

input CreateTransactionRequest {
  api_key: String!
  card_number: String!
  amount: Int!
  payment_method: String!
  merchant_id: Int!
  transaction_time: DateTime!
}

input UpdateTransactionRequest {
  id: Int!
  api_key: String!
  card_number: String!
  amount: Int!
  payment_method: String!
  merchant_id: Int!
  transaction_time: DateTime!
}

type TransactionResponse {
  id: Int!
  card_number: String!
  transaction_no: String!
  amount: Int!
  payment_method: String!
  merchant_id: Int!
  transaction_time: String!
  created_at: String!
  updated_at: String!
}

type TransactionResponseDeleteAt {
  id: Int!
  card_number: String!
  transaction_no: String!
  amount: Int!
  payment_method: String!
  merchant_id: Int!
  transaction_time: String!
  created_at: String!
  updated_at: String!
  deleted_at: String
}

type TransactionMonthStatusSuccessResponse {
  year: String!
  month: String!
  total_success: Int!
  total_amount: Int!
}

type TransactionYearStatusSuccessResponse {
  year: String!
  total_success: Int!
  total_amount: Int!
}

type TransactionMonthStatusFailedResponse {
  year: String!
  month: String!
  total_failed: Int!
  total_amount: Int!
}

type TransactionYearStatusFailedResponse {
  year: String!
  total_failed: Int!
  total_amount: Int!
}

type TransactionMonthMethodResponse {
  month: String!
  payment_method: String!
  total_transactions: Int!
  total_amount: Int!
}

type TransactionYearMethodResponse {
  year: String!
  payment_method: String!
  total_transactions: Int!
  total_amount: Int!
}

type TransactionMonthAmountResponse {
  month: String!
  total_amount: Int!
}

type TransactionYearlyAmountResponse {
  year: String!
  total_amount: Int!
}

type ApiResponseTransaction {
  status: String!
  message: String!
  data: TransactionResponse
}

type ApiResponseTransactionDeleteAt {
  status: String!
  message: String!
  data: TransactionResponseDeleteAt
}

type ApiResponsePaginationTransaction {
  status: String!
  message: String!
  data: [TransactionResponse!]!
  pagination: PaginationMeta
}

type ApiResponsePaginationTransactionDeleteAt {
  status: String!
  message: String!
  data: [TransactionResponseDeleteAt!]!
  pagination: PaginationMeta
}

type ApiResponseTransactions {
  status: String!
  message: String!
  data: [TransactionResponse!]!
}

type ApiResponseTransactionDelete {
  status: String!
  message: String!
}

type ApiResponseTransactionAll {
  status: String!
  message: String!
}

type ApiResponseTransactionMonthStatusSuccess {
  status: String!
  message: String!
  data: [TransactionMonthStatusSuccessResponse!]!
}

type ApiResponseTransactionYearStatusSuccess {
  status: String!
  message: String!
  data: [TransactionYearStatusSuccessResponse!]!
}

type ApiResponseTransactionMonthStatusFailed {
  status: String!
  message: String!
  data: [TransactionMonthStatusFailedResponse!]!
}

type ApiResponseTransactionYearStatusFailed {
  status: String!
  message: String!
  data: [TransactionYearStatusFailedResponse!]!
}

type ApiResponseTransactionMonthMethod {
  status: String!
  message: String!
  data: [TransactionMonthMethodResponse!]!
}

type ApiResponseTransactionYearMethod {
  status: String!
  message: String!
  data: [TransactionYearMethodResponse!]!
}

type ApiResponseTransactionMonthAmount {
  status: String!
  message: String!
  data: [TransactionMonthAmountResponse!]!
}

type ApiResponseTransactionYearAmount {
  status: String!
  message: String!
  data: [TransactionYearlyAmountResponse!]!
}

extend type Query {
  findAllTransactions(
    input: FindAllTransactionRequest
  ): ApiResponsePaginationTransaction
  findAllTransactionsByCardNumber(
    input: FindAllTransactionCardNumberRequest
  ): ApiResponsePaginationTransaction
  findTransactionById(input: FindByIdTransactionRequest): ApiResponseTransaction
  findTransactionByMerchantId(
    input: FindTransactionByMerchantIdRequest
  ): ApiResponseTransactions
  findActiveTransactions(
    input: FindAllTransactionRequest
  ): ApiResponsePaginationTransactionDeleteAt
  findTrashedTransactions(
    input: FindAllTransactionRequest
  ): ApiResponsePaginationTransactionDeleteAt

  findMonthlyTransactionStatusSuccess(
    input: FindMonthlyTransactionStatus!
  ): ApiResponseTransactionMonthStatusSuccess
  findYearlyTransactionStatusSuccess(
    input: FindYearTransactionStatus!
  ): ApiResponseTransactionYearStatusSuccess
  findMonthlyTransactionStatusFailed(
    input: FindMonthlyTransactionStatus!
  ): ApiResponseTransactionMonthStatusFailed
  findYearlyTransactionStatusFailed(
    input: FindYearTransactionStatus!
  ): ApiResponseTransactionYearStatusFailed

  findMonthlyTransactionStatusSuccessByCardNumber(
    input: FindMonthlyTransactionStatusCardNumber!
  ): ApiResponseTransactionMonthStatusSuccess
  findYearlyTransactionStatusSuccessByCardNumber(
    input: FindYearTransactionStatusCardNumber!
  ): ApiResponseTransactionYearStatusSuccess
  findMonthlyTransactionStatusFailedByCardNumber(
    input: FindMonthlyTransactionStatusCardNumber!
  ): ApiResponseTransactionMonthStatusFailed
  findYearlyTransactionStatusFailedByCardNumber(
    input: FindYearTransactionStatusCardNumber!
  ): ApiResponseTransactionYearStatusFailed

  findMonthlyPaymentMethods(
    input: FindYearTransactionStatus!
  ): ApiResponseTransactionMonthMethod
  findYearlyPaymentMethods(
    input: FindYearTransactionStatus!
  ): ApiResponseTransactionYearMethod
  findMonthlyAmounts(
    input: FindYearTransactionStatus!
  ): ApiResponseTransactionMonthAmount
  findYearlyAmounts(
    input: FindYearTransactionStatus!
  ): ApiResponseTransactionYearAmount

  findMonthlyPaymentMethodsByCardNumber(
    input: FindByYearCardNumberTransactionRequest!
  ): ApiResponseTransactionMonthMethod
  findYearlyPaymentMethodsByCardNumber(
    input: FindByYearCardNumberTransactionRequest!
  ): ApiResponseTransactionYearMethod
  findMonthlyAmountsByCardNumber(
    input: FindByYearCardNumberTransactionRequest!
  ): ApiResponseTransactionMonthAmount
  findYearlyAmountsByCardNumber(
    input: FindByYearCardNumberTransactionRequest!
  ): ApiResponseTransactionYearAmount
}

extend type Mutation {
  createTransaction(input: CreateTransactionRequest!): ApiResponseTransaction
  updateTransaction(input: UpdateTransactionRequest!): ApiResponseTransaction
  trashedTransaction(
    input: FindByIdTransactionRequest!
  ): ApiResponseTransactionDeleteAt
  restoreTransaction(
    input: FindByIdTransactionRequest!
  ): ApiResponseTransactionDeleteAt
  deleteTransactionPermanent(
    input: FindByIdTransactionRequest!
  ): ApiResponseTransactionDelete

  restoreAllTransactions: ApiResponseTransactionAll
  deleteAllTransactionsPermanent: ApiResponseTransactionAll
}
